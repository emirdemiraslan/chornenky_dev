sudo: required
dist: trusty
language: node_js
node_js:
- '5'
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - g++-4.8
    - openjdk-7-jdk
    - php5-cli
    - zip
matrix:
  fast_finish: true
cache:
  directories:
  - node_modules
branches:
  except:
  - "/^build/"
before_install:
- npm set progress=false
- npm prune
before_script: npm test
script: npm run prod
env:
  global:
  - CXX=g++-4.8
  - NODE_ENV=development
  - secure: "jpeATxY2WVpnOUk1iHMTG1xR82VL0lLCWR6Zhouepik01NyP5n7Y+/fcBCiwySWdyR5zIo1eTOu9sBtfv1iSNpB8cz1vnYSAMpbJfSsm/ApvRE45NQAGJQbocVXBMWstk1fICtfsAfQGMFCdsXdVrfoKRChb8LlSfcN/opj9/Cr6/FN0Db3osZLAcVI/kPhxpD2D3OTdB4z+CoF8LdCisL0zNbN2qObGfIXajJOiEDpfbhxIXVxwQKgDdOTXq2gOxV08NklSeHoUxI55LWwT8nGFAx8JDuJqfWk2Uge2VX9lGWzG8v9ULQWYzhvx+As35WsfRlrxsRg5GWjbkmkU35ZYzvXckgMvKZy6ABOpb48PyDnftTii0G2YgsrO/HnQXU+SZAS/zqlfannC5imzpPnhI7wUptHwsqehWgtztvpBJELOt2oaz7b1AJyhUk/UtWoEpUp3TygJR+TCfhAWAJyKI1NzNOE50aHUgRewPp3cY8HnHpVYcXL/8ajpxQ5F+svqQ6M+31KPLRwd53E+OsOHIInz0ZyLzYChLqn8ZnQrKLMjLWUSD6gMFFMc+Nmg2N1aekszqYptansrkNayq7ToUK8p9h3i0mmgDS29J8wnvB4BiEiRL6ygt85igEpgK76aECrnCNMnHxNc4zEgBHmeUalX2vMWa5k5sPJeIgA="
before_deploy:
- zip -r release.zip ../you_should_probably_change_this/*
- git config --global user.email "builds@travis-ci.com"
- git config --global user.name "Travis CI"
- export GIT_TAG=build-$TRAVIS_BRANCH-$(date -u "+%Y-%m-%d-%H-%M-%S")-$TRAVIS_BUILD_NUMBER
- git tag $GIT_TAG -a -m "Generated tag from TravisCI build $TRAVIS_BUILD_NUMBER"
- git push --quiet https://${GH_TOKEN}@github.com/$TRAVIS_REPO_SLUG $GIT_TAG > /dev/null 2>&1
deploy:
  provider: releases
  api_key:
    secure: YyckRucecG8sTaaqg3PGQWfCab2pptTervdyKMmPeNaMYJNphLxUPPC5vXMosSgriDKgy8Gg/UQpyazuhTMEt0Kr0pPEzmUltv/vKbO0StGSBbXLQli3GEWlI4svsvVRRwnjSmwKX3dzkupQQiYtzn406HApF5r1uROYkkgstTYoPmZsVrCU8cW+gWNZlWF5g2EsdipFoGQ8t9z06E7t49GnBy/Upc1gHmy5tAu3QiRzkuR6O5z8ptVQ7mZTjcKV7dvVL53z2xBsOePbNF3NucWN+zRU/uRmDt9r8PGFDU3j7yfb17Y1J9DdGOrh5EvwEkJQljVBCqI1VxHNsx92oIcIm4BR7p9OHfyZJjDP7ODJ5xKozXfIFVSoVOVsrYR8Z8KJ11gs4EW7wdu0+txmDnAzF1rN52l1bvtCAt98uvjYn9hk+guFoh7o//cTKLoih8CZR2Onu0fSmB3ub1pJJv35xFposK3k/RgR94j09lsOJdP6T8lzIdADsaz5F+T+snZU8yBtTn5Flbj/Jd/8N8EYc/E2tQzVgoEF+lGcaxD6x2BUNyuQNmsNG2htDOTkBvuu4VzW7rbTctqXNkpPobAQoMbmpy2JCcQTvElF43bDN/1hGw8QFbJMc1d5IyjN5UcrP+FoP3LdPIS68AYqw6Lp0orZcem94zHiouZSnZc=
  file: release.zip
  on:
    repo: medfreeman/wp-theme-starter
    branch: travisci
    tags: false
